"use strict";(self.webpackChunkoptimized_js_project=self.webpackChunkoptimized_js_project||[]).push([[568],{667:(t,s,i)=>{i.d(s,{Z:()=>r});var e=i(5378);const h=Math.pow(2,-52),n=new Uint32Array(512);class r{static from(t,s=f,i=u){const e=t.length,h=new Float64Array(2*e);for(let n=0;n<e;n++){const e=t[n];h[2*n]=s(e),h[2*n+1]=i(e)}return new r(h)}constructor(t){const s=t.length>>1;if(s>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*s-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(s)),this._hullPrev=new Uint32Array(s),this._hullNext=new Uint32Array(s),this._hullTri=new Uint32Array(s),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(s),this._dists=new Float64Array(s),this.update()}update(){const{coords:t,_hullPrev:s,_hullNext:i,_hullTri:n,_hullHash:r}=this,a=t.length>>1;let c=1/0,f=1/0,u=-1/0,d=-1/0;for(let s=0;s<a;s++){const i=t[2*s],e=t[2*s+1];i<c&&(c=i),e<f&&(f=e),i>u&&(u=i),e>d&&(d=e),this._ids[s]=s}const g=(c+u)/2,y=(f+d)/2;let w,b,k,A=1/0;for(let s=0;s<a;s++){const i=l(g,y,t[2*s],t[2*s+1]);i<A&&(w=s,A=i)}const p=t[2*w],z=t[2*w+1];A=1/0;for(let s=0;s<a;s++){if(s===w)continue;const i=l(p,z,t[2*s],t[2*s+1]);i<A&&i>0&&(b=s,A=i)}let S=t[2*b],U=t[2*b+1],x=1/0;for(let s=0;s<a;s++){if(s===w||s===b)continue;const i=o(p,z,S,U,t[2*s],t[2*s+1]);i<x&&(k=s,x=i)}let M=t[2*k],T=t[2*k+1];if(x===1/0){for(let s=0;s<a;s++)this._dists[s]=t[2*s]-t[0]||t[2*s+1]-t[1];_(this._ids,this._dists,0,a-1);const s=new Uint32Array(a);let i=0;for(let t=0,e=-1/0;t<a;t++){const h=this._ids[t];this._dists[h]>e&&(s[i++]=h,e=this._dists[h])}return this.hull=s.subarray(0,i),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if((0,e.IW)(p,z,S,U,M,T)<0){const t=b,s=S,i=U;b=k,S=M,U=T,k=t,M=s,T=i}const K=function(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,f=.5/(r*o-l*a);return{x:t+(o*_-l*c)*f,y:s+(r*c-a*_)*f}}(p,z,S,U,M,T);this._cx=K.x,this._cy=K.y;for(let s=0;s<a;s++)this._dists[s]=l(t[2*s],t[2*s+1],K.x,K.y);_(this._ids,this._dists,0,a-1),this._hullStart=w;let m=3;i[w]=s[k]=b,i[b]=s[w]=k,i[k]=s[b]=w,n[w]=0,n[b]=1,n[k]=2,r.fill(-1),r[this._hashKey(p,z)]=w,r[this._hashKey(S,U)]=b,r[this._hashKey(M,T)]=k,this.trianglesLen=0,this._addTriangle(w,b,k,-1,-1,-1);for(let l,a,o=0;o<this._ids.length;o++){const _=this._ids[o],c=t[2*_],f=t[2*_+1];if(o>0&&Math.abs(c-l)<=h&&Math.abs(f-a)<=h)continue;if(l=c,a=f,_===w||_===b||_===k)continue;let u=0;for(let t=0,s=this._hashKey(c,f);t<this._hashSize&&(u=r[(s+t)%this._hashSize],-1===u||u===i[u]);t++);u=s[u];let d,g=u;for(;d=i[g],(0,e.IW)(c,f,t[2*g],t[2*g+1],t[2*d],t[2*d+1])>=0;)if(g=d,g===u){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,_,i[g],-1,-1,n[g]);n[_]=this._legalize(y+2),n[g]=y,m++;let A=i[g];for(;d=i[A],(0,e.IW)(c,f,t[2*A],t[2*A+1],t[2*d],t[2*d+1])<0;)y=this._addTriangle(A,_,d,n[_],-1,n[A]),n[_]=this._legalize(y+2),i[A]=A,m--,A=d;if(g===u)for(;d=s[g],(0,e.IW)(c,f,t[2*d],t[2*d+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(d,_,g,-1,n[g],n[d]),this._legalize(y+2),n[d]=y,i[g]=g,m--,g=d;this._hullStart=s[_]=g,i[g]=s[A]=_,i[_]=A,r[this._hashKey(c,f)]=_,r[this._hashKey(t[2*g],t[2*g+1])]=g}this.hull=new Uint32Array(m);for(let t=0,s=this._hullStart;t<m;t++)this.hull[t]=s,s=i[s];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,s){return Math.floor(function(t,s){const i=t/(Math.abs(t)+Math.abs(s));return(s>0?3-i:1+i)/4}(t-this._cx,s-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:s,_halfedges:i,coords:e}=this;let h=0,r=0;for(;;){const l=i[t],o=t-t%3;if(r=o+(t+2)%3,-1===l){if(0===h)break;t=n[--h];continue}const _=l-l%3,c=o+(t+1)%3,f=_+(l+2)%3,u=s[r],d=s[t],g=s[c],y=s[f];if(a(e[2*u],e[2*u+1],e[2*d],e[2*d+1],e[2*g],e[2*g+1],e[2*y],e[2*y+1])){s[t]=y,s[l]=u;const e=i[f];if(-1===e){let s=this._hullStart;do{if(this._hullTri[s]===f){this._hullTri[s]=t;break}s=this._hullPrev[s]}while(s!==this._hullStart)}this._link(t,e),this._link(l,i[r]),this._link(r,f);const a=_+(l+1)%3;h<n.length&&(n[h++]=a)}else{if(0===h)break;t=n[--h]}}return r}_link(t,s){this._halfedges[t]=s,-1!==s&&(this._halfedges[s]=t)}_addTriangle(t,s,i,e,h,n){const r=this.trianglesLen;return this._triangles[r]=t,this._triangles[r+1]=s,this._triangles[r+2]=i,this._link(r,e),this._link(r+1,h),this._link(r+2,n),this.trianglesLen+=3,r}}function l(t,s,i,e){const h=t-i,n=s-e;return h*h+n*n}function a(t,s,i,e,h,n,r,l){const a=t-r,o=s-l,_=i-r,c=e-l,f=h-r,u=n-l,d=_*_+c*c,g=f*f+u*u;return a*(c*g-d*u)-o*(_*g-d*f)+(a*a+o*o)*(_*u-c*f)<0}function o(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,f=.5/(r*o-l*a),u=(o*_-l*c)*f,d=(r*c-a*_)*f;return u*u+d*d}function _(t,s,i,e){if(e-i<=20)for(let h=i+1;h<=e;h++){const e=t[h],n=s[e];let r=h-1;for(;r>=i&&s[t[r]]>n;)t[r+1]=t[r--];t[r+1]=e}else{let h=i+1,n=e;c(t,i+e>>1,h),s[t[i]]>s[t[e]]&&c(t,i,e),s[t[h]]>s[t[e]]&&c(t,h,e),s[t[i]]>s[t[h]]&&c(t,i,h);const r=t[h],l=s[r];for(;;){do{h++}while(s[t[h]]<l);do{n--}while(s[t[n]]>l);if(n<h)break;c(t,h,n)}t[i+1]=t[n],t[n]=r,e-h+1>=n-i?(_(t,s,h,e),_(t,s,i,n-1)):(_(t,s,i,n-1),_(t,s,h,e))}}function c(t,s,i){const e=t[s];t[s]=t[i],t[i]=e}function f(t){return t[0]}function u(t){return t[1]}}}]);